<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>完整检测浏览器类型算法</title>
</head>
<body>
	<script>
	function getBrowserInfo()
	{

		var browser = {};
		var ua = navigator.userAgent;
		console.log( navigator.userAgent );

		if( window.ActiveXObject )
		{
			browser.type = "ie";
			browser.ie = ua.match( /msie ([\d\.]+)/i )[ 1 ];
		}
		else if( /firefox/i.test( ua ) )
		{
			browser.type = "firefox";
			browser.firefox = ua.match( /firefox\/([\d\.]+)/i )[ 1 ];
		}
		else if( /OPR/.test( ua ) )
		{
			browser.type = "opera";
			browser.opera = ua.match( /opr\/([\d\.]+)/i )[ 1 ];
		}
		else if( /QQBrowser/i.test( ua ) )
		{
			browser.type = "qqbrowser";
			browser.qqbrowser = ua.match( /qqbrowser\/([\d\.]+)/i )[ 1 ];
		}
		else if( /chrome/i.test( ua ) && window.MessageEvent )
		{
			browser.type = "chrome";
			browser.chrome = ua.match( /chrome\/([\d\.]+)/i )[ 1 ];
		}
		else if( window.openDatabase )
		{
			browser.type = "safari";
			if( ua.indexOf( "nokia" ) > 0 && ua.match( /safari\/([\d\.]+)/i ) )
			{
				browser.safari = ua.match( /safari\/([\d\.]+)/i )[ 1 ];
			}
			else if( ua.match( /version\/([\d\.]+)/i ) )
			{
				browser.safari = ua.match( /version\/([\d\.]+)/i )[ 1 ];
			}
			else
			{
				browser.safari = "unknow";
			}
		}
		else
		{
			browser.type = "unknown";
			browser.unknown = "未知类型";
		}

		return browser;
	}

	var info = getBrowserInfo();
	console.log( info.type, info[ info.type ] );
	</script>
</body>
</html>