<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>6、跨域（CORS）</title>
	<script src="http://analytics.163.com/ntes.js"></script>
</head>
<body>
	<h2>CORS</h2>
	<pre>
		CORS（Cross-Origin Resource Sharing，跨域资源共享）

		用服务器脚本声明跨域策略：
		----------------------------------------------------------
		允许所有来源
		header("Access-Control-Allow-Origin: *");

		允许所有指定域名下的二级域名
		header("Access-Control-Allow-Origin: *.yourdomain.com");

		允许指定主域名
		header("Access-Control-Allow-Origin: www.yourdomain.com");

		用安全策略文件来设定跨域策略
		----------------------------------------------------------
		crossdomain.xml
		<!--
		<cross-domain-policy>
			<allow-access-from domain="*.qq.com" secure="true" />
		</cross-domain-policy>
		-->


		访问统计、广告联盟
		通过 script、img 可以不受限制的访问其它服务器的任何资源。
	</pre>

	<img src="http://img2.126.net/hzimages/0204lofter-240x240.jpg" alt="">

	<script>
	console.log( _ntes_nvid );

	var xhr = new XMLHttpRequest();
	xhr.onreadystatechange = readystateHandler;

	// GET 方式提交
	xhr.open( "get", "http://www.h5devs.com/h5/a.php" );
	xhr.send();

	function readystateHandler( e )
	{
		if( xhr.status == 200 && xhr.readyState == 4 )
		{
			console.log( xhr.responseText );
		}
	}
	</script>
</body>
</html>